(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{471:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return f}));var n=r(472),o=r(0),l=Object(o.j)("v-card__actions"),d=Object(o.j)("v-card__subtitle"),c=Object(o.j)("v-card__text"),f=Object(o.j)("v-card__title");n.a},472:function(e,t,r){"use strict";r(12),r(13),r(14),r(5),r(15),r(9),r(16);var n=r(2),o=(r(24),r(217),r(218),r(488),r(219)),l=r(494),d=r(72),c=r(7);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(c.a)(l.a,d.a,o.a).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return h(h({"v-card":!0},d.a.options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},o.a.options.computed.classes.call(this))},styles:function(){var style=h({},o.a.options.computed.styles.call(this));return this.img&&(style.background='url("'.concat(this.img,'") center center / cover no-repeat')),style}},methods:{genProgress:function(){var e=l.a.options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),r=t.tag,data=t.data;return data.style=this.styles,this.isClickable&&(data.attrs=data.attrs||{},data.attrs.tabindex=0),e(r,this.setBackgroundColor(this.color,data),[this.genProgress(),this.$slots.default])}})},488:function(e,t,r){var content=r(489);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("03030716",content,!0,{sourceMap:!1})},489:function(e,t,r){var n=r(18)(!1);n.push([e.i,'.theme--light.v-card{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-card>.v-card__subtitle,.theme--light.v-card>.v-card__text{color:rgba(0,0,0,.6)}.theme--dark.v-card{background-color:#1e1e1e;color:#fff}.theme--dark.v-card>.v-card__subtitle,.theme--dark.v-card>.v-card__text{color:hsla(0,0%,100%,.7)}.v-sheet.v-card{border-radius:4px}.v-sheet.v-card:not(.v-sheet--outlined){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-sheet.v-card.v-sheet--shaped{border-radius:24px 4px}.v-card{border-width:thin;display:block;max-width:100%;outline:none;text-decoration:none;transition-property:box-shadow,opacity;word-wrap:break-word;position:relative;white-space:normal}.v-card>.v-card__progress+:not(.v-btn):not(.v-chip):not(.v-avatar),.v-card>:first-child:not(.v-btn):not(.v-chip):not(.v-avatar){border-top-left-radius:inherit;border-top-right-radius:inherit}.v-card>:last-child:not(.v-btn):not(.v-chip):not(.v-avatar){border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.v-card__progress{top:0;left:0;right:0;overflow:hidden}.v-card__subtitle+.v-card__text{padding-top:0}.v-card__subtitle,.v-card__text{font-size:.875rem;font-weight:400;line-height:1.375rem;letter-spacing:.0071428571em}.v-card__subtitle,.v-card__text,.v-card__title{padding:16px}.v-card__title{align-items:center;display:flex;flex-wrap:wrap;font-size:1.25rem;font-weight:500;letter-spacing:.0125em;line-height:2rem;word-break:break-all}.v-card__title+.v-card__subtitle,.v-card__title+.v-card__text{padding-top:0}.v-card__title+.v-card__subtitle{margin-top:-16px}.v-card__text{width:100%}.v-card__actions{align-items:center;display:flex;padding:8px}.v-card__actions>.v-btn.v-btn{padding:0 8px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn+.v-btn{margin-left:8px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn .v-icon--left{margin-left:4px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn .v-icon--right{margin-right:4px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn+.v-btn{margin-right:8px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn .v-icon--left{margin-right:4px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn .v-icon--right{margin-left:4px}.v-card--flat{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important}.v-sheet.v-card--hover{cursor:pointer;transition:box-shadow .4s cubic-bezier(.25,.8,.25,1)}.v-sheet.v-card--hover:focus,.v-sheet.v-card--hover:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.v-card--link,.v-card--link .v-chip{cursor:pointer}.v-card--link:focus:before{opacity:.08}.v-card--link:before{background:currentColor;bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s}.v-card--disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-card--disabled>:not(.v-card__progress){opacity:.6;transition:inherit}.v-card--loading{overflow:hidden}.v-card--raised{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}',""]),e.exports=n},490:function(e,t,r){"use strict";var n=r(119),o=r.n(n),l=r(179),d=r.n(l).a.get("wms_token"),c=o.a.create({baseURL:"http://localhost:8081/api",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)}});c.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(window.location.href="/login"),e})),t.a={login:function(data){return o.a.create({baseURL:"http://localhost:8081/api",headers:{"Content-Type":"application/json"}}).post("/login_check",data)},saveForm:function(data){return c.post("/formulario/store",data)},editField:function(data){return c.post("/campo/edit",data)},getForms:function(){return c.get("/formulario/rows")},getEntities:function(){return c.get("/formulario/entitys")},getTypeFields:function(){return c.get("/tipo/campo/all")},saveSection:function(data){return c.post("/seccion/store",data)},saveField:function(data){return c.post("/campo/store",data)},getFormEntity:function(e){return c.get("/formulario/entity/"+e)},getItems:function(e){return c.get(e)},saveClient:function(data){return c.post("/tercero/store",data)},updatedOptionsField:function(data){return c.post("/campo/options",data)},getAllClient:function(){return c.get("/tercero/all")},getDepartamentByName:function(data){return c.post("/departamentos/name",data)},getPaisByName:function(data){return c.post("/pais/name",data)},getCiudadByName:function(data){return c.post("ciudades/name",data)},getFamilys:function(){return c.get("/familia/all")},getGroups:function(e){return c.post("/grupo/all",e)},getSubgroups:function(e){return c.post("/subgrupo/all",e)},getProducts:function(){var filter=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return c.post("/producto/list",filter)},updateFamily:function(e){return c.post("/familia/edit",e)},updateGroup:function(e){return c.post("/grupo/edit",e)},getUsers:function(){return c.get("/usuario/all")},updateUser:function(e){return c.post("/usuario/"+e.id+"/edit",e)},saveUser:function(data){return c.post("/usuario/new",data)},resetPassword:function(e){return c.post("/usuario/"+e.id+"/reset-password",e)},getAllOrdenes:function(){return c.get("/ordenes/all")},findDetailOrden:function(data){return c.post("/detalleOrdenes/detallesByOrdenId",data)},getOrdenById:function(data){return c.post("/ordenes/getOrdenById",data)},saveOrden:function(data){return c.post("/ordenes/saveOrden",data)},saveProducts:function(data){return c.post("/detalleOrdenes/saveProduct",data)},updateOrdenById:function(data){return c.post("/ordenes/updateOrdenById",data)},deleteProductById:function(data){return c.post("/detalleOrdenes/deleteProductById",data)},getAllCotizaciones:function(){return c.get("/ordenes/getCot")},getAllPedidos:function(){return c.get("/ordenes/getPed")}}},501:function(e,t){function r(e){if((e=e||{}).negativeType=e.negativeType||("R"===e.negative?"right":"left"),"string"!=typeof e.negativeLeftSymbol)switch(e.negativeType){case"left":e.negativeLeftSymbol="-";break;case"brackets":e.negativeLeftSymbol="(";break;default:e.negativeLeftSymbol=""}if("string"!=typeof e.negativeRightSymbol)switch(e.negativeType){case"right":e.negativeRightSymbol="-";break;case"brackets":e.negativeRightSymbol=")";break;default:e.negativeRightSymbol=""}function t(t,r){if(r=r||{},!t&&0!==t)return"";var output=[],n="-"===(t=""+t).charAt(0);return t=t.replace(/^\-/g,""),e.negativeLeftOut||r.noUnits||output.push(e.prefix),n&&output.push(e.negativeLeftSymbol),e.negativeLeftOut&&!r.noUnits&&output.push(e.prefix),t=t.split("."),null!=e.round&&function(e,t){if(e[1]&&t>=0&&e[1].length>t){var r=e[1].slice(0,t);if(+e[1].substr(t,1)>=5){for(var n="";"0"===r.charAt(0);)n+="0",r=r.substr(1);(r=n+(r=+r+1+"")).length>t&&(e[0]=+e[0]+ +r.charAt(0)+"",r=r.substring(1))}e[1]=r}}(t,e.round),null!=e.truncate&&(t[1]=function(e,t){e&&(e+="");return e&&e.length>t?e.substr(0,t):e}(t[1],e.truncate)),e.padLeft>0&&(t[0]=function(e,t){e+="";var r=[];for(;r.length+e.length<t;)r.push("0");return r.join("")+e}(t[0],e.padLeft)),e.padRight>0&&(t[1]=function(e,t){e?e+="":e="";var r=[];for(;r.length+e.length<t;)r.push("0");return e+r.join("")}(t[1],e.padRight)),!r.noSeparator&&t[1]&&(t[1]=function(e,t){if(e+="",!t)return e;var r=/(\d{3})(\d+)/;for(;r.test(e);)e=e.replace(r,"$1"+t+"$2");return e}(t[1],e.decimalsSeparator)),!r.noSeparator&&t[0]&&(t[0]=function(e,t){if(e+="",!t)return e;var r=/(\d+)(\d{3})/;for(;r.test(e);)e=e.replace(r,"$1"+t+"$2");return e}(t[0],e.integerSeparator)),output.push(t[0]),t[1]&&(output.push(e.decimal),output.push(t[1])),e.negativeRightOut&&!r.noUnits&&output.push(e.suffix),n&&output.push(e.negativeRightSymbol),e.negativeRightOut||r.noUnits||output.push(e.suffix),output.join("")}function r(t,r){r=r||[],e.allowedSeparators&&e.allowedSeparators.forEach((function(s){r.push(s)})),r.push(e.integerSeparator),r.push(e.decimalsSeparator);var n=t=(t=t.replace(e.prefix,"")).replace(e.suffix,"");do{t=n;for(var i=0;i<r.length;i++)n=n.replace(r[i],"")}while(n!=t);return t}return"boolean"!=typeof e.negativeLeftOut&&(e.negativeLeftOut=!1!==e.negativeOut),"boolean"!=typeof e.negativeRightOut&&(e.negativeRightOut=!1!==e.negativeOut),e.prefix=e.prefix||"",e.suffix=e.suffix||"","string"!=typeof e.integerSeparator&&(e.integerSeparator="string"==typeof e.separator?e.separator:","),e.decimalsSeparator="string"==typeof e.decimalsSeparator?e.decimalsSeparator:"",e.decimal=e.decimal||".",e.padLeft=e.padLeft||-1,e.padRight=e.padRight||-1,t.negative=e.negative,t.negativeOut=e.negativeOut,t.negativeType=e.negativeType,t.negativeLeftOut=e.negativeLeftOut,t.negativeLeftSymbol=e.negativeLeftSymbol,t.negativeRightOut=e.negativeRightOut,t.negativeRightSymbol=e.negativeRightSymbol,t.prefix=e.prefix,t.suffix=e.suffix,t.separate=e.separate,t.integerSeparator=e.integerSeparator,t.decimalsSeparator=e.decimalsSeparator,t.decimal=e.decimal,t.padLeft=e.padLeft,t.padRight=e.padRight,t.truncate=e.truncate,t.round=e.round,t.unformat=r,t}e.exports=r,e.exports.default=r},514:function(e,t,r){"use strict";(function(e){"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var r=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function e(data,t,r){var n,o,l=window,d="application/octet-stream",c=r||d,f=data,h=!t&&!r&&f,v=document.createElement("a"),m=function(a){return String(a)},x=l.Blob||l.MozBlob||l.WebKitBlob||m,_=t||"download";if(x=x.call?x.bind(l):Blob,"true"===String(this)&&(c=(f=[f,c])[0],f=f[1]),h&&h.length<2048&&(_=h.split("/").pop().split("?")[0],v.href=h,-1!==v.href.indexOf(h))){var y=new XMLHttpRequest;return y.open("GET",h,!0),y.responseType="blob",y.onload=function(t){e(t.target.response,_,d)},setTimeout((function(){y.send()}),0),y}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(f)){if(!(f.length>2096103.424&&x!==m))return navigator.msSaveBlob?navigator.msSaveBlob(k(f),_):R(f);c=(f=k(f)).type||d}else if(/([\x80-\xff])/.test(f)){for(var i=0,O=new Uint8Array(f.length),w=O.length;i<w;++i)O[i]=f.charCodeAt(i);f=new x([O],{type:c})}function k(e){for(var t=e.split(/[:;,]/),r=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),o=n.length,i=0,l=new Uint8Array(o);i<o;++i)l[i]=n.charCodeAt(i);return new x([l],{type:r})}function R(e,t){if("download"in v)return v.href=e,v.setAttribute("download",_),v.className="download-js-link",v.innerHTML="downloading...",v.style.display="none",document.body.appendChild(v),setTimeout((function(){v.click(),document.body.removeChild(v),!0===t&&setTimeout((function(){l.URL.revokeObjectURL(v.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var r=document.createElement("iframe");document.body.appendChild(r),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),r.src=e,setTimeout((function(){document.body.removeChild(r)}),333)}if(n=f instanceof x?f:new x([f],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(n,_);if(l.URL)R(l.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===m)try{return R("data:"+c+";base64,"+l.btoa(n))}catch(e){return R("data:"+c+","+encodeURIComponent(n))}(o=new FileReader).onload=function(e){R(this.result)},o.readAsDataURL(n)}return!0}}));var n=function(template,style,script,e,t,r,n,o,l,d){"boolean"!=typeof n&&(l=o,o=n,n=!1);var c,f="function"==typeof script?script.options:script;if(template&&template.render&&(f.render=template.render,f.staticRenderFns=template.staticRenderFns,f._compiled=!0,t&&(f.functional=!0)),e&&(f._scopeId=e),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),style&&style.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},f._ssrRegister=c):style&&(c=n?function(){style.call(this,d(this.$root.$options.shadowRoot))}:function(e){style.call(this,o(e))}),c)if(f.functional){var h=f.render;f.render=function(e,t){return c.call(t),h(e,t)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,c):[c]}return script};const o={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:()=>null},exportFields:{type:Object,default:()=>null},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName:()=>"export_"+(new Date).getTime(),downloadFields(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"==typeof this.beforeGenerate&&await this.beforeGenerate();let data=this.data;if("function"!=typeof this.fetch&&data||(data=await this.fetch()),!data||!data.length)return;let e=this.getProcessedJson(data,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(e),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(e),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(e),this.name,"application/vnd.ms-excel")},export:async function(data,e,t){let n=this.base64ToBlob(data,t);"function"==typeof this.beforeFinish&&await this.beforeFinish(),r(n,e,t)},jsonToXLS(data){let e="<thead>";const t=Object.keys(data[0]).length;let r=this;const header=this.header||this.$attrs.title;header&&(e+=this.parseExtraData(header,'<tr><th colspan="'+t+'">${data}</th></tr>')),e+="<tr>";for(let t in data[0])e+="<th>"+t+"</th>";return e+="</tr>",e+="</thead>",e+="<tbody>",data.map((function(t,n){e+="<tr>";for(let n in t)e+="<td>"+r.preprocessLongNum(r.valueReformattedForMultilines(t[n]))+"</td>";e+="</tr>"})),e+="</tbody>",null!=this.footer&&(e+="<tfoot>",e+=this.parseExtraData(this.footer,'<tr><td colspan="'+t+'">${data}</td></tr>'),e+="</tfoot>"),'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>'.replace("${table}",e).replace("${worksheet}",this.worksheet)},jsonToCSV(data){let e=this;var t=[];const header=this.header||this.$attrs.title;header&&t.push(this.parseExtraData(header,"${data}\r\n"));for(let e in data[0])t.push(e),t.push(",");return t.pop(),t.push("\r\n"),data.map((function(r){for(let n in r){let o=r[n]+"";e.escapeCsv&&(o='="'+o+'"',o.match(/[,"\n]/)&&(o='"'+o.replace(/\"/g,'""')+'"')),t.push(o),t.push(",")}t.pop(),t.push("\r\n")})),null!=this.footer&&t.push(this.parseExtraData(this.footer,"${data}\r\n")),t.join("")},getProcessedJson(data,header){let e=this.getKeys(data,header),t=[],r=this;return data.map((function(n,o){let l={};for(let label in e){let t=e[label];l[label]=r.getValue(t,n)}t.push(l)})),t},getKeys(data,header){if(header)return header;let e={};for(let t in data[0])e[t]=t;return e},parseExtraData(e,t){let r="";if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&(r+=t.replace("${data}",e[i]));else r+=t.replace("${data}",e);return r},getValue(e,t){const r="object"!=typeof e?e:e.field;let n="string"!=typeof r?[]:r.split("."),o=this.defaultValue;return o=r?n.length>1?this.getValueFromNestedItem(t,n):this.parseValue(t[r]):t,e.hasOwnProperty("callback")&&(o=this.getValueFromCallback(o,e.callback)),o},valueReformattedForMultilines:e=>"string"==typeof e?e.replace(/\n/gi,"<br/>"):e,preprocessLongNum(e){if(this.stringifyLongNum){if(String(e).startsWith("0x"))return e;if(!isNaN(e)&&""!=e&&(e>99999999999||e<1e-13))return'="'+e+'"'}return e},getValueFromNestedItem(e,t){let r=e;for(let e of t)r&&(r=r[e]);return this.parseValue(r)},getValueFromCallback(e,t){if("function"!=typeof t)return this.defaultValue;const r=t(e);return this.parseValue(r)},parseValue(e){return e||0===e||"boolean"==typeof e?e:this.defaultValue},base64ToBlob(data,e){let t=window.btoa(window.unescape(encodeURIComponent(data))),r=atob(t),n=r.length,o=new Uint8ClampedArray(n);for(;n--;)o[n]=r.charCodeAt(n);return new Blob([o],{type:e})}}};var l=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:e.idName},on:{click:e.generate}},[e._t("default",[e._v(" Download "+e._s(e.name)+" ")])],2)};l._withStripped=!0;var d=n({render:l,staticRenderFns:[]},undefined,o,undefined,!1,undefined,void 0,void 0);t.a=d}).call(this,r(79))},516:function(e,t,r){var content=r(541);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("621b82a0",content,!0,{sourceMap:!1})},525:function(e,t,r){"use strict";r.r(t);r(5),r(9),r(24);var n=r(490),o=r(1),l=r(514),d=r(539),c=r.n(d),f=r(501),h=r.n(f);o.a.use(c.a),o.a.component("downloadExcel",l.a);var v={props:["ordenDetail","ordenGeneral","ordenResume","prefijo","idOrden"],data:function(){return{dialog:!1,cabeceraResumen:[{text:"SUBTOTAL",value:"subtotal",align:"center",sortable:!1},{text:"IVA",value:"iva",align:"center",sortable:!1},{text:"TOTAL A PAGAR",value:"total",align:"center",sortable:!1}],headers:[{text:"NOMBRE",width:"60%",value:"nombre",sortable:!1},{text:"PRECIO",width:"10%",value:"precio_unitario",sortable:!1},{text:"UND",width:"10%",value:"cantidad",sortable:!1},{text:"SUBTOTAL",value:"subtotal",sortable:!1},{text:"IVA",value:"iva",sortable:!1},{text:"TOTAL",value:"total",sortable:!1}],editableHeaders:[{text:"NOMBRE",width:"60%",value:"nombre",sortable:!1},{text:"PRECIO",width:"10%",value:"precio_unitario",sortable:!1},{text:"UND",width:"10%",value:"cantidad",sortable:!1},{text:"SUBTOTAL",value:"subtotal",sortable:!1},{text:"IVA",value:"iva",sortable:!1},{text:"TOTAL",value:"total",sortable:!1},{text:"Eliminar",value:"action",sortable:!1}],exportable:[],updatedOrden:!1,validacionOrden:[],formatNumber:h.a,formData:{addProducts:{},dialogAddProduct:{}},eliminarProducto:!1,pruebaDetalle:[]}},computed:{refrescar:function(){var sub=0,e=0,t=0,r=[];console.log("Hola desde computed"),this.formData.addProducts.length>0&&(this.formData.addProducts.forEach((function(element){r.push({nombre:element.nombre,producto_id:element.id,precio_unitario:element.lista_precio,cantidad:element.units,subtotal:element.lista_precio*element.units,iva:element.lista_precio*element.units*.19,total:element.lista_precio*element.units*.19+element.lista_precio*element.units})})),this.ordenDetail.forEach((function(element){sub+=Number(element.subtotal),e+=Number(element.iva),t+=Number(element.total),console.log("Entre!!!")})),this.ordenResume[0].subtotal=sub,this.ordenResume[0].iva=e,this.ordenResume[0].total=t,this.ordenDetail=[],this.ordenDetail=r,console.log(this.ordenResume))},localValueUpdateDetail:{get:function(){return this.ordenDetail},set:function(e){this.$emit("update:ordenDetail",e)}},localValueUpdateResumeDetail:{get:function(){return this.ordenResume},set:function(e){this.$emit("update:ordenResume",e)}},localValueUpdateOrdenGeneral:{get:function(){return this.ordenGeneral},set:function(e){this.$emit("update:ordenGeneral",e)}}},beforeUpdate:function(){this.validacionOrden=this.ordenResume},updated:function(){var e=this;console.log("Hola desde updated"),this.actualizarOrdenResumen&&(console.log("ENtreee"),this.actualizarOrdenResumen=!1,this.pedido.forEach((function(element){e.updateOrdenDetail(element.units,{item:element})})))},created:function(){this.pedido=this.$session.get("shopping_cart"),null!=this.pedido&&this.pedido.length>0&&(this.actualizarOrdenResumen=!0,this.enableUpdate())},methods:{updateOrdenDetail:function(e,t){this.updatedOrden=!0;var r=0,n=0,o=0;t.item.cantidad=e,t.item.subtotal=t.item.cantidad*t.item.precio_unitario,t.item.iva=.19*t.item.subtotal,t.item.total=t.item.iva+t.item.subtotal,1==this.eliminarProducto?(this.eliminarProducto=!1,console.log("Entree"),console.log(this.pruebaDetalle),this.pruebaDetalle.forEach((function(element){r+=Number(element.total),n+=Number(element.subtotal),o+=Number(element.iva)})),console.log(r)):(this.ordenDetail.forEach((function(element){r+=Number(element.total),n+=Number(element.subtotal),o+=Number(element.iva)})),console.log(r)),null!=this.ordenResume[0]&&(console.log("Entre x 2"),console.log(r),this.ordenResume[0].total=r,this.ordenResume[0].subtotal=n,this.ordenResume[0].iva=o)},saveChangesOrden:function(){var e=this;this.updatedOrden=!1;var t=!0,r=!1;console.log(this.ordenResume);var o={idOrden:parseInt(this.ordenResume[0].id),totalOrden:Number(this.ordenResume[0].total),subTotalOrden:Number(this.ordenResume[0].subtotal),ivaOrden:Number(this.ordenResume[0].iva),productosOrden:[]};n.a.findDetailOrden({ordenId:parseInt(this.ordenResume[0].id)}).then((function(l){console.log(l.data.data),console.log(e.ordenDetail),e.ordenDetail.forEach((function(d){t=!0,l.data.data.forEach((function(e){e.producto_id==d.producto_id&&(console.log(d,"Debe acualizarse"),o.productosOrden.push(d),t=!1)})),1==t&&n.a.saveProducts({idOrden:e.ordenResume[0].id,idProduct:d.producto_id,units:d.cantidad,lista_precio:d.precio_unitario,sub:d.subtotal,iva:d.iva,total:d.total}).then((function(e){console.log(e),0==r&&e.data.success&&(r=!0,e.data.success?alert("Orden actualizada con exito"):alert("Error al actualizar la orden"))}))})),console.log(o),n.a.updateOrdenById(o).then((function(t){0==r&&(t.data.success?alert("Orden actualizada con exito"):alert("Error al actualizar la orden")),e.updateOrdenGeneral()}))})),this.$session.set("shopping_cart",[])},exportExcel:function(){var e=this;this.updatedOrden=!1,this.exportable=[],this.ordenDetail.forEach((function(element){e.exportable.push({codigo:element.codigo_sigma,bodega:1,cantidad:element.cantidad,nombreProducto:element.nombre})})),console.log(this.exportable)},enableUpdate:function(){this.updatedOrden=!0},deleteProduct:function(e){var t=this,r=confirm("eliminar producto "+e.nombre);console.log(e.id),r&&(this.eliminarProducto=!0,n.a.deleteProductById(e).then((function(r){console.log(r),n.a.findDetailOrden({ordenId:parseInt(e.ordenes_id)}).then((function(e){t.localValueUpdateDetail=e.data.data,t.pruebaDetalle=e.data.data,console.log(t.pruebaDetalle),console.log(e.data.data),t.updateOrdenDetail(e.data.data[0].cantidad,{item:e.data.data});var r={idOrden:parseInt(t.ordenResume[0].id),totalOrden:Number(t.ordenResume[0].total),subTotalOrden:Number(t.ordenResume[0].subtotal),ivaOrden:Number(t.ordenResume[0].iva),productosOrden:[]};n.a.updateOrdenById(r).then((function(e){console.log("Hola desde updateOrdenByID"),t.updateOrdenGeneral()}))}))})))},onClickOutside:function(){console.log("Hola desde click outside"),this.formData.dialogAddProduct?this.refrescar:this.updatedOrden=!1},addProduct:function(){var e=[];console.log("Hola desde ADD product"),console.log(this.ordenDetail),this.ordenDetail.forEach((function(element){e.push({id:element.producto_id,nombre:element.nombre,codigo_sigma:element.codigo_sigma,lista_precio:element.precio_unitario,units:element.cantidad,iva:element.iva,sub:element.subtotal,total:element.total})})),this.$session.set("shopping_cart",e),this.$store.dispatch("setProducts",{data:this.$session.get("shopping_cart")}),this.$session.set("idOrden",this.idOrden),window.location.href="../catalogo/view/",console.log(this.idOrden)},prueba:function(){this.refrescar,console.log(this.formData.dialogAddProduct)},updateOrdenGeneral:function(){var e=this;n.a.getAllCotizaciones().then((function(t){e.localValueUpdateOrdenGeneral=t.data.data}))}}},m=(r(540),r(63)),x=r(76),_=r.n(x),y=r(236),O=r(472),w=r(471),k=r(647),R=r(204),S=r(507),C=r(542),E=r.n(C),D=r(144),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}]},[r("v-card",[r("div",{staticClass:"d-flex justify-end"},[r("v-card",{attrs:{"max-width":"400"}},[r("v-data-table",{staticClass:"cart-shop",attrs:{headers:e.cabeceraResumen,items:e.ordenResume,"hide-default-footer":"",id:"table-orden"},scopedSlots:e._u([{key:"item.subtotal",fn:function(t){var r=t.item;return[e._v("\n            "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.subtotal),{noSeparator:!1}))+"\n          ")]}},{key:"item.total",fn:function(t){var r=t.item;return[e._v("\n            "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.total),{noSeparator:!1}))+"\n          ")]}},{key:"item.iva",fn:function(t){var r=t.item;return[e._v("\n            "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.iva),{noSeparator:!1}))+"\n          ")]}}],null,!0)})],1)],1),e._v(" "),r("v-card-title",{staticClass:"text-h5 d-flex justify-center mb-0"},[e._v("\n      Detalle Orden\n    ")]),e._v(" "),0==this.updatedOrden?r("v-card-text",[r("v-data-table",{staticClass:"cart-shop",attrs:{dense:"",headers:e.headers,items:e.ordenDetail,"hide-default-footer":"",id:"table-orden","items-per-page":-1},scopedSlots:e._u([{key:"item.precio_unitario",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.precio_unitario),{noSeparator:!1}))+"\n        ")]}},{key:"item.subtotal",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.subtotal),{noSeparator:!1}))+"\n        ")]}},{key:"item.total",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.total),{noSeparator:!1}))+"\n        ")]}},{key:"item.iva",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.iva),{noSeparator:!1}))+"\n        ")]}}],null,!0)})],1):1==this.updatedOrden?r("v-card-text",[r("v-data-table",{staticClass:"cart-shop overflow-y-auto",attrs:{dense:"",headers:e.editableHeaders,items:e.ordenDetail,"hide-default-footer":"",id:"table-orden","items-per-page":-1},scopedSlots:e._u([{key:"item.cantidad",fn:function(t){return[r("v-text-field",{staticClass:"input-cantidad mt-30",attrs:{value:t.item.cantidad,outlined:"",dense:"",type:"number"},on:{input:function(r){return e.updateOrdenDetail(r,t)}}})]}},{key:"item.precio_unitario",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.precio_unitario),{noSeparator:!1}))+"\n        ")]}},{key:"item.subtotal",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.subtotal),{noSeparator:!1}))+"\n        ")]}},{key:"item.total",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.total),{noSeparator:!1}))+"\n        ")]}},{key:"item.iva",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(e.formatNumber({prefix:"$",suffix:""})(Math.trunc(r.iva),{noSeparator:!1}))+"\n        ")]}},{key:"item.action",fn:function(t){var n=t.item;return[r("v-btn",{attrs:{outlined:"",color:"red",small:""},on:{click:function(t){return e.deleteProduct(n)}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-trash-can-outline ")])],1)]}}],null,!0)}),e._v(" "),r("div",{staticClass:"d-flex justify-center mt-5"},[r("v-btn",{attrs:{outlined:"",small:""},on:{click:function(t){return e.addProduct()}}},[e._v("\n          ADD "),r("v-icon",{attrs:{small:""}},[e._v(" mdi-plus ")])],1)],1)],1):e._e()],1),e._v(" "),"PED"===e.prefijo.substring(0,3)?r("div",{staticClass:"d-flex justify-center"},[r("download-excel",{attrs:{data:e.exportable,worksheet:"My Worksheet",name:e.prefijo+".xls"}},[r("v-btn",{staticClass:"ma-2 ml-0",attrs:{outlined:"",color:"green",small:"",title:"enviar a sigma"},on:{click:function(t){return e.exportExcel()}}},[e._v("\n        Exportar a excel\n      ")])],1)],1):"COT"===e.prefijo.substring(0,3)?r("div",{staticClass:"d-flex justify-center"},[r("download-excel",{attrs:{data:e.exportable,worksheet:"My Worksheet",name:e.prefijo+".xls"}},[r("v-btn",{staticClass:"ma-2 ml-0",attrs:{outlined:"",color:"green",small:"",title:"enviar a sigma"},on:{click:function(t){return e.exportExcel()}}},[e._v("\n        Exportar a excel\n      ")])],1),e._v(" "),0==this.updatedOrden?r("v-btn",{staticClass:"ma-2 ml-0",attrs:{outlined:"",color:"black",small:"",title:"enviar a sigma"},on:{click:function(t){return e.enableUpdate()}}},[e._v("\n      Modificar\n    ")]):e._e(),e._v(" "),1==this.updatedOrden?r("v-btn",{staticClass:"ma-2 ml-0",attrs:{outlined:"",color:"black",small:"",title:"enviar a sigma"},on:{click:function(t){return e.saveChangesOrden()}}},[e._v("\n      Guardar cambios\n    ")]):e._e()],1):r("div",{staticClass:"d-flex justify-center"},[r("download-excel",{attrs:{data:e.exportable,worksheet:"My Worksheet",name:e.prefijo+".xls"}},[r("v-btn",{staticClass:"ma-2 ml-0",attrs:{outlined:"",color:"green",small:"",title:"enviar a sigma"},on:{click:function(t){return e.exportExcel()}}},[e._v("\n        Exportar a excel\n      ")])],1),e._v(" "),r("v-btn",{staticClass:"ma-2 ml-0",attrs:{outlined:"",color:"black",small:"",title:"enviar a sigma"},on:{click:function(t){return e.saveChangesOrden()}}},[e._v("\n      Guardar Cambios\n    ")])],1)],1)}),[],!1,null,null,null);t.default=component.exports;_()(component,{VBtn:y.a,VCard:O.a,VCardText:w.c,VCardTitle:w.d,VDataTable:k.a,VIcon:R.a,VTextField:S.a}),E()(component,{ClickOutside:D.a})},539:function(e,t,r){e.exports=function(){var e="__v-click-outside",t="undefined"!=typeof window,r="undefined"!=typeof navigator,n=t&&("ontouchstart"in window||r&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function i(e){var t=e.event,r=e.handler;(0,e.middleware)(t)&&r(t)}function a(t,r){var a=function(e){var t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||n,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe),capture:!!e.capture}}(r.value),o=a.handler,l=a.middleware,d=a.detectIframe,u=a.capture;if(a.isActive){if(t[e]=a.events.map((function(e){return{event:e,srcTarget:document.documentElement,handler:function(e){return function(e){var t=e.el,r=e.event,n=e.handler,a=e.middleware,o=r.composedPath&&r.composedPath()||r.path;(o?o.indexOf(t)<0:!t.contains(r.target))&&i({event:r,handler:n,middleware:a})}({el:t,event:e,handler:o,middleware:l})},capture:u}})),d){var c={event:"blur",srcTarget:window,handler:function(e){return function(e){var t=e.el,r=e.event,n=e.handler,a=e.middleware;setTimeout((function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&!t.contains(e)&&i({event:r,handler:n,middleware:a})}),0)}({el:t,event:e,handler:o,middleware:l})},capture:u};t[e]=[].concat(t[e],[c])}t[e].forEach((function(r){var n=r.event,i=r.srcTarget,a=r.handler;return setTimeout((function(){t[e]&&i.addEventListener(n,a,u)}),0)}))}}function o(t){(t[e]||[]).forEach((function(e){return e.srcTarget.removeEventListener(e.event,e.handler,e.capture)})),delete t[e]}var l=t?{bind:a,update:function(e,t){var r=t.value,n=t.oldValue;JSON.stringify(r)!==JSON.stringify(n)&&(o(e),a(e,{value:r}))},unbind:o}:{};return{install:function(e){e.directive("click-outside",l)},directive:l}}()},540:function(e,t,r){"use strict";r(516)},541:function(e,t,r){var n=r(18)(!1);n.push([e.i,'#table-orden .v-data-table-header{background:#7d7e7d;background:linear-gradient(180deg,#7d7e7d 0,#0e0e0e);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#7d7e7d",endColorstr="#0e0e0e",GradientType=0)}#table-orden .v-text-field>.v-input__control>.v-input__slot{cursor:text;min-height:20px!important;min-width:70px!important;font-size:12px}',""]),e.exports=n},542:function(e,t){e.exports=function(component,e){var t="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(t.directives=component.exports.options.directives),t.directives=t.directives||{},e)t.directives[i]=t.directives[i]||e[i]}}}]);